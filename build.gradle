/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

plugins{
    id "base"
}

// this is property of gradle - start
description = "A test gradle build"
version
// this is property of gradle - end

task copy(type: Copy, group: "Custom", description:"copy file from src to dest"){
    from "src"
    into "dest"
}

task zip(type: Zip, group: "Archive", description: "Archive sources in a zip file"){
    from "src"
    setArchiveName "basic-demo-1.0.zip"
}

task hello{
    ext.myProperty = 'myValue'

    doLast{
        String someString = 'namhoon'
        println 'hello'
        println "Hello, ${someString}"
    }
}

task copyManyFiles(type: Copy, group: "Copy"){
    from "./src/dist/toBeCopied1", "./src/dist/toBeCopied2"
    include "*.txt"
    into "./build/copied"
}

task execTask(type: Exec){
    commandLine "git", "branch"
    doFirst{
        println "hello this is exec task"
    }
}

def words = ["Namhoon"]

words.each{word->
    task "hello$word"{
        dependsOn hello

        doLast{
            println "Hello, $word"
        }
    }
}

4.times{ counter->
    task "count${counter}"{
        doLast{
            println "count ${counter}"
            println "My Property ${hello.myProperty}"
        }
    }

}

task callCount1{
    print("Calling task count1")
    tasks.count1.execute()
}

println "$tasks"